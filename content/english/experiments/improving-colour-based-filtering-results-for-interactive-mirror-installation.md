<!DOCTYPE html>

<!--[if IE 7]>
<html class="ie ie7" lang="en">
<![endif]-->
<!--[if IE 8]>
<html class="ie ie8" lang="en">
<![endif]-->
<!--[if !(IE 7) | !(IE 8)  ]><!-->
<!-- BEGIN html -->

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<!--<![endif]-->
<!-- BEGIN head -->
<head>
<!-- Title -->
<title>Improving Colour based filtering results for Interactive Mirror Installation | EXPERIENCESUTRA</title>
<!-- Meta Tags -->
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<meta content="width=device-width, initial-scale=1, maximum-scale=1" name="viewport"/>
<!--[if lte IE 10]>
		<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1" />
		<![endif]-->
<!-- Favicon -->
<link href="http://experiencesutra.com/wp-content/themes/tresor-theme/images/favicon.ico" rel="shortcut icon" type="image/x-icon"/>
<link href="http://experiencesutra.com/feed/" rel="alternate" title="EXPERIENCESUTRA latest posts" type="application/rss+xml"/>
<link href="http://experiencesutra.com/comments/feed/" rel="alternate" title="EXPERIENCESUTRA latest comments" type="application/rss+xml"/>
<link href="http://experiencesutra.com/xmlrpc.php" rel="pingback"/>
<!-- Meta Tags for twitter cards -->
<meta content="summary_large_image" name="twitter:card"/>
<meta content="@keplervaaani" name="twitter:site"/>
<meta content="Improving Colour based filtering results for Interactive Mirror Installation" name="twitter:title"/>
<meta content="" name="twitter:description"/>
<meta content="http://experiencesutra.com/wp-content/uploads/2018/05/Mirror_StoryBoard_02MAY18-640x480_c.jpg" name="twitter:image:src"/>
<!-- Meta Tags for facebook open graph -->
<meta content="http://experiencesutra.com/experiments/improving-colour-based-filtering-results-for-interactive-mirror-installation/" property="og:url"/>
<meta content="article" property="og:type"/>
<meta content="Improving Colour based filtering results for Interactive Mirror Installation" property="og:title"/>
<meta content="http://experiencesutra.com/wp-content/uploads/2018/05/Mirror_StoryBoard_02MAY18-640x480_c.jpg" property="og:image"/>
<meta content="" property="og:description"/>
<meta content="EXPERIENCESUTRA" property="og:site_name"/>
<meta content="1529061758" property="og:updated_time"/>
<meta content="1529020800" property="article:published_time"/>
<meta content="EXPERIMENTS" property="article:section"/>
<title>Improving Colour based filtering results for Interactive Mirror Installation | EXPERIENCESUTRA</title>
<link href="http://experiencesutra.com/feed/" rel="alternate" title="EXPERIENCESUTRA » Feed" type="application/rss+xml"/>
<link href="http://experiencesutra.com/comments/feed/" rel="alternate" title="EXPERIENCESUTRA » Comments Feed" type="application/rss+xml"/>
<link href="http://experiencesutra.com/experiments/improving-colour-based-filtering-results-for-interactive-mirror-installation/feed/" rel="alternate" title="EXPERIENCESUTRA » Improving Colour based filtering results for Interactive Mirror Installation Comments Feed" type="application/rss+xml"/>
<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"http:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/experiencesutra.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.2.2"}};
			!function(a,b,c){function d(a){var c=b.createElement("canvas"),d=c.getContext&&c.getContext("2d");return d&&d.fillText?(d.textBaseline="top",d.font="600 32px Arial","flag"===a?(d.fillText(String.fromCharCode(55356,56812,55356,56807),0,0),c.toDataURL().length>3e3):(d.fillText(String.fromCharCode(55357,56835),0,0),0!==d.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link href="http://experiencesutra.com/wp-content/plugins/pagepost-specific-social-share-buttons/ppss_style.css?ver=4.2.2" id="ppss_style-css" media="all" rel="stylesheet" type="text/css"/>
<link href="http://experiencesutra.com/wp-content/plugins/easy-twitter-feed-widget/easy-twitter-feed-widget.css?ver=4.2.2" id="kamn-css-easy-twitter-feed-widget-css" media="all" rel="stylesheet" type="text/css"/>
<link href="http://fonts.googleapis.com/css?family=Open+Sans&amp;subset=latin&amp;ver=4.2.2" id="google-fonts-1-css" media="all" rel="stylesheet" type="text/css"/>
<link href="http://experiencesutra.com/wp-content/themes/tresor-theme/css/reset.css?ver=4.2.2" id="reset-css" media="all" rel="stylesheet" type="text/css"/>
<link href="http://experiencesutra.com/wp-content/themes/tresor-theme/css/animate.css?ver=4.2.2" id="animate-css" media="all" rel="stylesheet" type="text/css"/>
<link href="http://experiencesutra.com/wp-content/plugins/js_composer/assets/lib/bower/font-awesome/css/font-awesome.min.css?ver=4.7.4" id="font-awesome-css" media="screen" rel="stylesheet" type="text/css"/>
<link href="http://experiencesutra.com/wp-content/themes/tresor-theme/css/weather-icons.min.css?ver=4.2.2" id="weather-icons-css" media="all" rel="stylesheet" type="text/css"/>
<link href="http://experiencesutra.com/wp-content/themes/tresor-theme/css/dat-menu.css?ver=4.2.2" id="dat-menu-css" media="all" rel="stylesheet" type="text/css"/>
<link href="http://experiencesutra.com/wp-content/themes/tresor-theme/css/main-stylesheet.css?ver=4.2.2" id="main-stylesheet-css" media="all" rel="stylesheet" type="text/css"/>
<link href="http://experiencesutra.com/wp-content/themes/tresor-theme/css/ot-lightbox.css?ver=4.2.2" id="lightbox-css" media="all" rel="stylesheet" type="text/css"/>
<link href="http://experiencesutra.com/wp-content/themes/tresor-theme/css/shortcodes.css?ver=4.2.2" id="shortcodes-css" media="all" rel="stylesheet" type="text/css"/>
<link href="http://experiencesutra.com/wp-content/themes/tresor-theme/css/responsive.css?ver=4.2.2" id="responsive-css" media="all" rel="stylesheet" type="text/css"/>
<link href="http://experiencesutra.com/wp-admin/admin-ajax.php?action=ot_dynamic_css&amp;ver=4.2.2" id="dynamic-css-css" media="all" rel="stylesheet" type="text/css"/>
<link href="http://experiencesutra.com/wp-content/themes/tresor-theme/style.css?ver=4.2.2" id="style-css" media="all" rel="stylesheet" type="text/css"/>
<script type="text/javascript">
/* <![CDATA[ */
var ot = {"THEME_NAME":"tresor","THEME_FULL_NAME":"Tresor","adminUrl":"http:\/\/experiencesutra.com\/wp-admin\/admin-ajax.php","gallery_id":"","galleryCat":"","imageUrl":"http:\/\/experiencesutra.com\/wp-content\/themes\/tresor-theme\/images\/","cssUrl":"http:\/\/experiencesutra.com\/wp-content\/themes\/tresor-theme\/css\/","themeUrl":"http:\/\/experiencesutra.com\/wp-content\/themes\/tresor-theme"};
/* ]]> */
</script>
<script src="http://experiencesutra.com/wp-includes/js/jquery/jquery.js?ver=1.11.2" type="text/javascript"></script>
<script src="http://experiencesutra.com/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.2.1" type="text/javascript"></script>
<script src="http://experiencesutra.com/wp-admin/admin-ajax.php?action=ot_dynamic_js&amp;ver=1" type="text/javascript"></script>
<link href="http://experiencesutra.com/xmlrpc.php?rsd" rel="EditURI" title="RSD" type="application/rsd+xml"/>
<link href="http://experiencesutra.com/wp-includes/wlwmanifest.xml" rel="wlwmanifest" type="application/wlwmanifest+xml"/>
<link href="http://experiencesutra.com/insights/a-pov-on-pov-displays/" rel="prev" title="A PoV (Point of View) on PoV (Persistence of Vision) Displays"/>
<link href="http://experiencesutra.com/insights/how-to-stay-relevant-in-2030/" rel="next" title="How To Stay Relevant In 2030"/>
<meta content="WordPress 4.2.2" name="generator"/>
<link href="http://experiencesutra.com/experiments/improving-colour-based-filtering-results-for-interactive-mirror-installation/" rel="canonical"/>
<link href="http://experiencesutra.com/?p=852" rel="shortlink"/>
<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-63333235-1']);
_gaq.push(['_trackPageview']);
(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>
<!-- Facebook Like Thumbnail -->
<link href="http://experiencesutra.com/wp-content/uploads/2018/05/Mirror_StoryBoard_02MAY18.jpg" rel="image_src"/>
<!-- End Facebook Like Thumbnail -->
<meta content="Powered by Visual Composer - drag and drop page builder for WordPress." name="generator"/>
<!--[if lte IE 9]><link rel="stylesheet" type="text/css" href="http://experiencesutra.com/wp-content/plugins/js_composer/assets/css/vc_lte_ie9.css" media="screen"><![endif]--><!--[if IE  8]><link rel="stylesheet" type="text/css" href="http://experiencesutra.com/wp-content/plugins/js_composer/assets/css/vc-ie8.css" media="screen"><![endif]--><noscript><style> .wpb_animate_when_almost_visible { opacity: 1; }</style></noscript>
<!-- END head -->
</head>
<!-- BEGIN body -->
<body class="single single-post postid-852 single-format-standard ot-menu-will-follow wpb-js-composer js-comp-ver-4.7.4 vc_responsive">
<!-- BEGIN .boxed -->
<div class="boxed">
<!-- BEGIN .header -->
<header class="header">
<!-- BEGIN .top-menu -->
<div class="top-menu">
<div class="wrapper">
<ul class="right">
<li><a href="https://twitter.com/keplervaani" target="_blank"><i class="fa fa-twitter"></i></a></li> </ul>
<div class="menu-top-menu-2-container">
<ul class="load-responsive"><li class="menu-item menu-item-type-post_type menu-item-object-page single" id="menu-item-301"><a class="logo" href="http://experiencesutra.com/">
<img alt="EXPERIENCESUTRA" data-ot-retina="/wp-content/themes/tresor-theme/images/logo.png" src="/wp-content/themes/tresor-theme/images/logo.png"/>
</a></li>
</ul>
</div>
<div class="menu-top-menu-container"><ul class="load-responsive" rel="Top Menu"><li class="menu-item menu-item-type-post_type menu-item-object-page single" id="menu-item-349"><a href="http://experiencesutra.com/purpose/">PURPOSE</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page single" id="menu-item-354"><a href="http://experiencesutra.com/people/">PEOPLE</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-gallery single" id="menu-item-420"><a href="http://experiencesutra.com/gallery/space/">SPACE</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page single" id="menu-item-355"><a href="http://experiencesutra.com/about-us/">ABOUT US</a></li>
</ul></div>
</div>
<!-- END .top-menu -->
</div>
<div class="main-menu-wrapper will-follow">
<!-- BEGIN .main-menu -->
<nav class="main-menu">
<div class="wrapper wrapper-wide">
<a class="responsive-menu-button" href="#dat-menu"><i class="fa fa-bars"></i>&nbsp;&nbsp;Show menu</a>
<ul class="load-responsive" rel="Main Menu"><li class="normal-drop no-description menu-item menu-item-type-post_type menu-item-object-page" id="menu-item-413" style="background: #264C84; "><a href="http://experiencesutra.com/">HOME</a></li>
<li class="normal-drop no-description menu-item menu-item-type-taxonomy menu-item-object-category" id="menu-item-336" style="background: #ee1e90; "><a href="http://experiencesutra.com/category/projects/">PROJECTS</a></li>
<li class="normal-drop no-description menu-item menu-item-type-taxonomy menu-item-object-category" id="menu-item-335" style="background: #01d0c4; "><a href="http://experiencesutra.com/category/insights/">INSIGHTS</a></li>
<li class="normal-drop no-description menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent" id="menu-item-338" style="background: #551984; "><a href="http://experiencesutra.com/category/experiments/">EXPERIMENTS</a></li>
<li class="normal-drop no-description menu-item menu-item-type-taxonomy menu-item-object-category" id="menu-item-337" style="background: #84B929; "><a href="http://experiencesutra.com/category/scribbles/">SCRIBBLES</a></li>
<li class="normal-drop no-description menu-item menu-item-type-post_type menu-item-object-page" id="menu-item-342" style="background: #878787; "><a href="http://experiencesutra.com/contact-us/">CONTACT US</a></li>
</ul> </div>
<!-- END .main-menu -->
</nav>
</div>
<!-- END .header -->
</header>
<!-- BEGIN .content -->
<div class="content has-sidebar sidebar-right">
<div class="sidebar-background-light"></div>
<!-- BEGIN .breadcrumbs -->
<div class="breadcrumbs">
<div class="wrapper">
<ul class="right"><li><a href="http://experiencesutra.com">Home</a></li> <li><a href="http://experiencesutra.com/category/experiments/">EXPERIMENTS</a></li><li>Improving Colour based filtering results for Interactive Mirror Installation</li></ul>
<h2>
									Articles								</h2>
</div>
<!-- END .breadcrumbs -->
</div>
<div class="header-photo" style="background-image: url(http://experiencesutra.com/wp-content/uploads/2018/05/Mirror_StoryBoard_02MAY18-1920x600_c.jpg);">
<div class="wrapper">
<div class="header-photo-inner">
<h2>Improving Colour based filtering results for Interactive Mirror Installation</h2>
<div class="header-photo-meta">
<a class="meta-p" href="http://experiencesutra.com/author/mjain/" rel="author" title="Posts by Mayank Jain">Mayank Jain</a> <span class="meta-p">
<a href="http://experiencesutra.com/category/experiments/">EXPERIMENTS</a> </span>
</div>
</div>
</div>
<!-- END .header-photo -->
</div>
<!-- BEGIN .wrapper -->
<div class="wrapper">
<!-- BEGIN .main-content-area -->
<div class="main-content-area">
<!-- BEGIN .main-block -->
<div class="main-block">
<div class="main-content shortcode-content post-852 post type-post status-publish format-standard has-post-thumbnail hentry category-experiments">
<div class="bottomcontainerBox" style="background-color:transparent;">
<div style="float:left; width:85px;padding-right:10px; margin:4px 4px 4px 4px;height:30px;">
<iframe allowtransparency="true" frameborder="0" scrolling="no" src="http://www.facebook.com/plugins/like.php?href=http%3A%2F%2Fexperiencesutra.com%2Fexperiments%2Fimproving-colour-based-filtering-results-for-interactive-mirror-installation%2F&amp;layout=button_count&amp;show_faces=false&amp;width=85&amp;action=like&amp;font=verdana&amp;colorscheme=light&amp;height=21" style="border:none; overflow:hidden; width:85px; height:21px;"></iframe></div>
<div style="float:left; width:95px;padding-right:10px; margin:4px 4px 4px 4px;height:30px;">
<a class="twitter-share-button" data-count="horizontal" data-text="Improving Colour based filtering results for Interactive Mirror Installation" data-url="http://experiencesutra.com/experiments/improving-colour-based-filtering-results-for-interactive-mirror-installation/" href="http://twitter.com/share"></a>
</div><div style="float:left; width:105px;padding-right:10px; margin:4px 4px 4px 4px;height:30px;"><script data-counter="right" data-url="http://experiencesutra.com/experiments/improving-colour-based-filtering-results-for-interactive-mirror-installation/" type="in/share"></script></div><div style="float:left; width:105px;padding-right:10px; margin:4px 4px 4px 4px;height:30px;"><a class="pin-it-button" count-layout="horizontal" href="http://pinterest.com/pin/create/button/?url=http://experiencesutra.com/experiments/improving-colour-based-filtering-results-for-interactive-mirror-installation/&amp;media=http://experiencesutra.com/wp-content/uploads/2018/05/Mirror_StoryBoard_02MAY18.jpg"></a></div>
</div><div style="clear:both"></div><div style="padding-bottom:4px;"></div><p>This is the follow up of our previous blog post <a class="" href="http://experiencesutra.com/projects/the-mirror-reimagined_-a-smart-shopping-assistant-for-the-retail">http://experiencesutra.com/projects/the-mirror-reimagined_-a-smart-shopping-assistant-for-the-retail</a> which was about Sapient smart mirror application IMI being developed here in Kepler, to recap its functionality primary use case for IMI is&nbsp;the generation of Clothing recommendation in the physical retail store based on what you wear/show in front of it. Think of it as a distant cousin for <em>you may also like this </em>feature that you while shopping but in&nbsp;an actual physical apparel store.</p>
<p>Our system has two primary filters for apparel search color based and style based. While style based filtering was giving us lots of accolades color based filtering still had a lot of issues. So, this is the story about what were the issues with color-based recommendations and how we were able to improve it.</p>
<p>&nbsp;</p>
<p><a href="http://experiencesutra.com/wp-content/uploads/2018/05/mirror-arch.png"><img alt="mirror-arch" class="alignleft size-large wp-image-780" height="417" src="http://experiencesutra.com/wp-content/uploads/2018/05/mirror-arch-1024x475.png" width="900"/></a></p>
<p>&nbsp;</p>
<p>So, to recap&nbsp;as illustrated in above system diagram. In our current system, we extract features from convolution layers and use&nbsp;these as the feature vector for matching with inventory items using Image similarity search subsystem. For color-based image search, this was being done by extracting first few layers of a CNN features. This works for some of the cases like this result.<a href="http://experiencesutra.com/wp-content/uploads/2018/06/Picture3.png"><img alt="Picture1" class="alignleft size-large wp-image-855" height="300" src="http://experiencesutra.com/wp-content/uploads/2018/06/Picture1.png" width="900"/></a></p>
<p>&nbsp;</p>
<p>But fails miserably in&nbsp;many&nbsp; other cases when a person is wearing multi-color shirts like this which was giving us lots of heartburn.</p>
<p><a href="http://experiencesutra.com/wp-content/uploads/2018/06/Picture2.png"><img alt="Picture2" class="alignleft size-full wp-image-854" height="325" src="http://experiencesutra.com/wp-content/uploads/2018/06/Picture2.png" width="974"/></a><a href="http://experiencesutra.com/wp-content/uploads/2018/06/Picture3.png"><img alt="Picture3" class="alignleft size-full wp-image-853" height="310" src="http://experiencesutra.com/wp-content/uploads/2018/06/Picture3.png" width="935"/></a><br/>
It quickly became obvious to us that we need a better solution for color-based recommendations. It was time we tighten our belts and start from the beginning.<br/>
On lots of introspection, one of the main issue we found that if a person was wearing a multi-color dress, sometimes results are coming an average of two colors in his worn apparel which is not what we wanted.</p>
<p>To mitigate this we asked ourselves a question. Is there exist a way to extract dominant primary colors in a given apparel with good accuracy? This may seem like a trivial problem but trust me it is not. Obvious solutions like counting pixels and placing them in color bins did not work out so well us. Another solution was using Clustering algorithms like K Means for clustering colors, but one of the major problems of using K Means like clustering methods are that many times results are biased based on how good K Means is initialization is e.g. choice of the number of clusters and initial cluster centers.</p>
<p>On further exploration, we found one blog post which was trying to answer the similar question of how to extract dominant colors from an image? In very short solution comes out to doing hierarchical color quantization with help of tree-based search while using Eigenvectors to split tree with each pixel in image belonging to one tree node. Node root gives the median of the subtree. You can read more about approach form aishack blog linked here.</p>
<p><a href="http://www.aishack.in/tutorials/dominant-color-implementation/">http://www.aishack.in/tutorials/dominant-color-implementation/</a> &nbsp;which must be read if you want in-depth knowledge of approach.</p>
<p>Following these footsteps, We were able to get dominant colors in given apparel with very good accuracy. Now question rose for us that how do we do the image comparison and search from inventory using this? For doing the color comparison of two images we picked histogram comparison approach. Here we assign each pixel of the image into discrete bins. After this, we can directly compare two histogram using histogram comparison metrics, e.g. Bhattacharya distance.</p>
<p>Next problem was What is an optimum number of bins to choose ? and how to choose which bin each pixel will fall into ? Time to do lots of experiments. Choosing how many color spaces to choose is very important as it greatly affects the accuracy of the final result. If too many colors are chosen then histogram comparisons start suffering from the same problem of color averaging as discussed at the start of&nbsp;this blog post. So, for starting out we picked all 16 colors from 4-bit color space. These are all the colors in 4-bit color space. Image Credit: <a href="http://r0k.us/graphics/colSpace.html">http://r0k.us/graphics/colSpace.htm</a></p>
<p>&nbsp;</p>
<p><a href="http://experiencesutra.com/wp-content/uploads/2018/06/4bitColorspace.png"><img alt="4bitColorspace" class="alignleft size-medium wp-image-858" height="55" src="http://experiencesutra.com/wp-content/uploads/2018/06/4bitColorspace-300x55.png" width="300"/></a></p>
<p>&nbsp;</p>
<p>Next: For generating a color histogram of given apparel image we first extract dominant colors using AIShack method, after this each nearest neighbor of dominant color is picked from 16 colors mentioned above. For purpose of calculating nearest neighbor, we need a distance function that can accurately compare two colors. Naïve RGB color space is not suitable for this as RGB color space is not perceptually uniform. For this purpose, LAB color space is more suitable as it is designed to approximate human vision, hence the direct L2 distance between two colors in LAB color space gives the perceptually accurate result. &nbsp;After projecting Dominant colors in 4bit color space we assign each pixel into bins of these 16 primary colors. So, for each image, you get the histogram of size 16 with an intensity of each bin varying between 0 to 100 percent. Sum of all histogram intensities is hence 100.</p>
<p>To use in our Color comparison based apparel recommendation system we iterate over all inventory data using a batch process and extract and save dominant color histograms mentioned above. On live system whenever a person stands in front of the camera we again extract dominant color histogram from his worn apparel and compare with all inventory histograms. Further, we pick top  10 nearest matches by first performing quicksort on all inventory histogram distances and then picking top 10 results. </p>
<p>Here are the results  using 4-bit color space as histogram bins:</p>
<p><a href="http://experiencesutra.com/wp-content/uploads/2018/06/img00003_4bit.jpeg"><img alt="img00003_4bit" class="alignleft size-large wp-image-866" height="300" src="http://experiencesutra.com/wp-content/uploads/2018/06/img00003_4bit-1024x341.jpeg" width="900"/></a></p>
<p><a href="http://experiencesutra.com/wp-content/uploads/2018/06/img00008_4bit.jpeg"><img alt="img00008_4bit" class="alignleft size-large wp-image-865" height="300" src="http://experiencesutra.com/wp-content/uploads/2018/06/img00008_4bit-1024x341.jpeg" width="900"/></a></p>
<p>&nbsp;</p>
<p>Quite an improvements, right? &nbsp;but still on analyzing results from our test images we found that there are still failure cases where we did not have a good match. Like this:-</p>
<p><a href="http://experiencesutra.com/wp-content/uploads/2018/06/img00090_4bit.jpeg"><img alt="img00090_4bit" class="alignleft size-large wp-image-863" height="300" src="http://experiencesutra.com/wp-content/uploads/2018/06/img00090_4bit-1024x341.jpeg" width="900"/></a></p>
<p>&nbsp;</p>
<p>We found that the number of different colors present in 4-bit color space is very low and this was costing us lots of mismatches. So we ended up adding more colors to our histogram pallet. In the end, we ended up with around 56 distinct popular colors. Here are some of the results from 56 colors pallet histogram matching.</p>
<p><a href="http://experiencesutra.com/wp-content/uploads/2018/06/img00008.jpeg"><img alt="img00008" class="alignleft size-large wp-image-861" height="300" src="http://experiencesutra.com/wp-content/uploads/2018/06/img00008-1024x341.jpeg" width="900"/></a><a href="http://experiencesutra.com/wp-content/uploads/2018/06/img00090.jpeg"><img alt="img00090" class="alignleft size-large wp-image-859" height="300" src="http://experiencesutra.com/wp-content/uploads/2018/06/img00090-1024x341.jpeg" width="900"/></a><a href="http://experiencesutra.com/wp-content/uploads/2018/06/img00003.jpeg"><img alt="img00003" class="alignleft size-large wp-image-862" height="300" src="http://experiencesutra.com/wp-content/uploads/2018/06/img00003-1024x341.jpeg" width="900"/></a></p>
<p>This looks as good result. We rerun our tests on hundreds of images and compared results of all three approaches ( CNN features, 16 color pallet Dominant color histogram and 56 color pallet dominant color histogram method ) and ended up picking 56 colors dominant histogram approach as the winner as this turned out to be best performing with most accurate recommnendations.</p>
</div>
<!-- BEGIN .white-box -->
<div class="main-content white-box">
<!-- BEGIN .about-author -->
<div class="about-author">
<div class="author-avatar left">
<img alt="Mayank Jain" data-ot-retina="http://2.gravatar.com/avatar/e4f97426870388bd7c4b8ca3ffd06fb7?s=200&amp;d=mm&amp;r=g" src="http://2.gravatar.com/avatar/e4f97426870388bd7c4b8ca3ffd06fb7?s=100&amp;d=mm&amp;r=g"/>
</div>
<div class="author-content">
<div class="author-socials right">
<a class="soc-hc-twitter" href="https://twitter.com/mayank10j" target="_blank"><i class="fa fa-twitter"></i></a> </div>
<h3>Mayank Jain</h3>
<p></p>
<a class="read-more" href="http://experiencesutra.com/author/mjain/">
<i class="fa fa-file-text-o"></i>View more by Mayank Jain				</a>
</div>
<!-- END .about-author -->
</div>
<!-- END .white-box -->
</div>
<!-- END .main-block -->
</div>
<!-- BEGIN .main-block -->
<div class="main-block">
<div class="main-content article-layout-1 lets-do-2">
<div class="item">
<a href="http://experiencesutra.com/experiments/comparison-of-advanced-nlp-tools-for-chatbots/">
<span class="item-header">Featured</span>
<span class="item-image">
<img alt="Comparison of advanced NLP tools for chatbots" data-ot-retina="http://experiencesutra.com/wp-content/uploads/2015/05/Sound-794x620_c.jpg" src="http://experiencesutra.com/wp-content/uploads/2015/05/Sound-397x310_c.jpg"/> </span>
<span class="item-content">
<span class="meta-cat">EXPERIMENTS</span>
<strong>Comparison of advanced NLP tools for chatbots</strong>
<span class="meta-items">
</span>
</span>
</a>
</div>
<div class="item">
<a href="http://experiencesutra.com/experiments/mobile-deployment-of-deep-learning-models/">
<span class="item-header">Featured</span>
<span class="item-image">
<img alt="Mobile deployment of deep learning models" data-ot-retina="http://experiencesutra.com/wp-content/uploads/2018/09/AR-794x620_c.jpeg" src="http://experiencesutra.com/wp-content/uploads/2018/09/AR-397x310_c.jpeg"/> </span>
<span class="item-content">
<span class="meta-cat">EXPERIMENTS</span>
<strong>Mobile deployment of deep learning models</strong>
<span class="meta-items">
</span>
</span>
</a>
</div>
</div>
<!-- END .main-block -->
</div>
<!-- END .main-content-area -->
</div>
<!-- BEGIN #sidebar -->
<aside class="ot-scrollnimate sidebar-light-scheme" data-animation="fadeInUpSmall" id="sidebar">
<div class="sidebar-fixed">
<div class="widget-1 first widget"> <div class="widget-easy-twitter-feed-widget-global-wrapper">
<div class="widget-easy-twitter-feed-widget-container">
<div class="widget-easy-twitter-feed-widget-row">
<div class="widget-easy-twitter-feed-widget-col">
<div class="twitterwidget widget-easy-twitter-feed-widget-kamn-2">
<a class="twitter-timeline" data-border-color="" data-chrome="nofooter   transparent" data-link-color="" data-screen-name="keplervaani" data-show-replies="false" data-theme="light" data-widget-id="666937073337667584" height="350" href="https://twitter.com/twitterdev" width="300">Tweets by @keplervaani</a>
</div>
</div>
</div>
</div> <!-- End .widget-global-wrapper -->
</div>
</div>
<div class="widget-2 last widget"> <h2>Socialize</h2> <div class="w-socialize">
<div class="soc-flippers">
<a class="soc-flipper flip-facebook ot-share" data-url="http://experiencesutra.com" href="http://www.facebook.com/sharer/sharer.php?u=http://experiencesutra.com">
<span class="card">
<span class="front"><i class="fa fa-facebook"></i></span>
<span class="back"><strong class="count">0</strong><i>Shares</i></span>
</span>
</a>
<a class="soc-flipper flip-twitter ot-tweet" data-hashtags="" data-text="EXPERIENCESUTRA+-+Humanizing+Technology" data-url="http://experiencesutra.com" data-via="keplervaaani" href="#">
<span class="card">
<span class="front"><i class="fa fa-twitter"></i></span>
<span class="back"><strong class="count">0</strong><i>Tweets</i></span>
</span>
</a>
<a class="soc-flipper flip-google ot-pluss" href="https://plus.google.com/share?url=http://experiencesutra.com">
<span class="card">
<span class="front"><i class="fa fa-google-plus"></i></span>
<span class="back"><strong class="count">0</strong><i>+1's</i></span>
</span>
</a>
<a class="soc-flipper flip-linkedin ot-link" data-url="http://experiencesutra.com" href="http://www.linkedin.com/shareArticle?mini=true&amp;url=http://experiencesutra.com&amp;title=EXPERIENCESUTRA+-+Humanizing+Technology">
<span class="card">
<span class="front"><i class="fa fa-linkedin"></i></span>
<span class="back"><strong class="count">0</strong><i>Shares</i></span>
</span>
</a>
</div>
</div>
</div>
</div>
<!-- END #sidebar -->
</aside>
<!-- END .wrapper -->
</div>
<!-- BEGIN .content -->
</div>
<!-- BEGIN .footer -->
<footer class="footer">
<!-- BEGIN .wrapper -->
<div class="wrapper">
<div class="footer-widgets">
<!-- BEGIN .footer-widget-left -->
<div class="footer-widget-left">
<!-- END .footer-widget-left -->
</div>
<!-- BEGIN .footer-widget-middle -->
<div class="footer-widget-middle">
<!-- END .footer-widget-middle -->
</div>
<!-- BEGIN .footer-widget-right -->
<div class="footer-widget-right">
<!-- END .footer-widget-right -->
</div>
</div>
<!-- END .wrapper -->
</div>
<div class="footer-bottom">
<!-- BEGIN .wrapper -->
<div class="wrapper">
<div class="footer-bottom-inner">
<h2 class="footer-logo left">EXPERIENCESUTRA</h2>
<p>Humanizing technology <br/>
© 2016 - Kepler186f</p>
</div>
<!-- END .wrapper -->
</div>
</div>
<!-- END .footer -->
</footer>
<!-- END .boxed -->
</div>
<div class="lightbox">
<div class="lightcontent-loading">
<a class="light-close" href="#" onclick="javascript:lightboxclose();"><i class="fa fa-times"></i>Close Window</a>
<div class="loading-box">
<h3>Loading, Please Wait!</h3>
<span>This may take a second or two.</span>
<span class="loading-image"><img alt="Loading, Please Wait!" src="http://experiencesutra.com/wp-content/themes/tresor-theme/images/loading.gif" title="Loading, Please Wait!"/></span>
</div>
</div>
<div class="lightcontent"></div>
</div>
<!--[if lte IE 9]><script src="http://experiencesutra.com/wp-content/themes/tresor-theme/js/ie-fix.js.js"></script><![endif]--><script src="http://platform.twitter.com/widgets.js?ver=4.2.2" type="text/javascript"></script>
<script src="http://platform.linkedin.com/in.js?ver=4.2.2" type="text/javascript"></script>
<script src="http://assets.pinterest.com/js/pinit.js?ver=4.2.2" type="text/javascript"></script>
<script src="http://experiencesutra.com/wp-includes/js/jquery/ui/effect.min.js?ver=1.11.4" type="text/javascript"></script>
<script src="http://experiencesutra.com/wp-includes/js/jquery/ui/effect-slide.min.js?ver=1.11.4" type="text/javascript"></script>
<script src="http://experiencesutra.com/wp-content/themes/tresor-theme/js/admin/jquery.c00kie.js?ver=1.0" type="text/javascript"></script>
<script src="http://experiencesutra.com/wp-content/themes/tresor-theme/js/theme-scripts.js?ver=4.2.2" type="text/javascript"></script>
<script src="http://experiencesutra.com/wp-content/themes/tresor-theme/js/iscroll.js?ver=4.2.2" type="text/javascript"></script>
<script src="http://experiencesutra.com/wp-content/themes/tresor-theme/js/modernizr.custom.50878.js?ver=4.2.2" type="text/javascript"></script>
<script src="http://experiencesutra.com/wp-content/themes/tresor-theme/js/dat-menu.js?ver=4.2.2" type="text/javascript"></script>
<script src="http://experiencesutra.com/wp-content/themes/tresor-theme/js/ot-lightbox.js?ver=4.2.2" type="text/javascript"></script>
<script src="http://experiencesutra.com/wp-content/themes/tresor-theme/js/jquery.event.move.js?ver=1.3.1" type="text/javascript"></script>
<script src="http://experiencesutra.com/wp-content/themes/tresor-theme/js/jquery.event.swipe.js?ver=4.2.2" type="text/javascript"></script>
<script src="http://experiencesutra.com/wp-content/themes/tresor-theme/js/jquery.md5.js?ver=4.2.2" type="text/javascript"></script>
<script src="http://experiencesutra.com/wp-includes/js/comment-reply.min.js?ver=4.2.2" type="text/javascript"></script>
<script src="http://experiencesutra.com/wp-content/themes/tresor-theme/js/ot_gallery.js?ver=1.0" type="text/javascript"></script>
<script src="http://experiencesutra.com/wp-content/themes/tresor-theme/js/scripts.js?ver=1.0" type="text/javascript"></script>
<script src="http://experiencesutra.com/wp-content/themes/tresor-theme/js/tresor.js?ver=1.0.0" type="text/javascript"></script>
<script src="http://experiencesutra.com/wp-content/plugins/easy-twitter-feed-widget/lib/js/widget-easy-twitter-feed-widget.js?ver=1.0" type="text/javascript"></script>
<!-- END body -->
</body>
<!-- END html -->
</html>